<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      canvas {
        border: 1px solid #888;
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
    <script>
      // 置蓝：将红色绿色通道设置为 0，蓝色通道的值保留不变。
      // 置红：将绿色蓝色通道设置为 0，红色通道的值保留不变。
      // 置绿：将红色蓝色通道设置为 0，绿色通道的值保留不变。

      // 通过对像素的处理，还能实现很多效果。
      // 毕竟都拿到了一张图片的所有像素点数据了，想怎么处理都行。
      //   颜色变换
      //   滤镜效果
      //   马赛克
      //   图像合成
      //   动画效果
      //   图形填充
      //   ……
      const canvas = document.createElement('canvas')
      canvas.width = 800
      canvas.height = 800
      document.body.append(canvas)

      const ctx = canvas.getContext('2d')

      const img = new Image()
      img.src = './home.png'
      img.onload = function () {
        ctx.drawImage(img, 0, 0)

        const imageData = ctx.getImageData(0, 0, img.width, img.height)
        for (let i = 0; i < imageData.data.length; i += 4) {
          // 置蓝
          imageData.data[i] = 0 // 红色通道设置为 0
          imageData.data[i + 1] = 0 // 绿色通道设置为 0
        }
        ctx.putImageData(imageData, 0, 0)
      }
    </script>
  </body>
</html>
